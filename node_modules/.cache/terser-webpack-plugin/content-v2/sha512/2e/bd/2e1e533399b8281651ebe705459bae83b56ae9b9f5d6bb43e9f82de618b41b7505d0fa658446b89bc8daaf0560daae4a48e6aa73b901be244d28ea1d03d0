{"code":"(this[\"webpackJsonpwhatsapp-clone\"]=this[\"webpackJsonpwhatsapp-clone\"]||[]).push([[0],{71:function(e,t,c){},72:function(e,t,c){},73:function(e,t,c){},74:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},89:function(e,t,c){\"use strict\";c.r(t);var a=c(2),s=c.n(a),n=c(31),i=c.n(n),r=(c(71),c(16)),o=(c(72),c(104)),j=c(102),d=c(57),l=c.n(d),h=c(58),b=c.n(h),u=c(43),O=c.n(u),m=c(44),x=c.n(m),p=(c(73),c(74),c(30)),f=(p.a.initializeApp({apiKey:\"AIzaSyA1P7PyHRRobOhg5XYls-xL5z3QTtL6kkw\",authDomain:\"chitchat-f9115.firebaseapp.com\",projectId:\"chitchat-f9115\",storageBucket:\"chitchat-f9115.appspot.com\",messagingSenderId:\"959264228960\",appId:\"1:959264228960:web:0d575b9f15791319982505\",measurementId:\"G-5HE8YNBZ00\"}),p.a.firestore()),v=p.a.auth(),g=new p.a.auth.GoogleAuthProvider,_=f,N=c(34),S=c(4);var C=function(e){var t,c=e.id,s=e.name,n=e.addNewChat,i=Object(a.useState)(\"\"),j=Object(r.a)(i,2),d=j[0],l=j[1],h=Object(a.useState)(\"\"),b=Object(r.a)(h,2),u=b[0],O=b[1];return Object(a.useEffect)((function(){c&&_.collection(\"rooms\").doc(c).collection(\"messages\").orderBy(\"timestamp\",\"desc\").onSnapshot((function(e){return O(e.docs.map((function(e){return e.data()})))}))}),[c]),Object(a.useEffect)((function(){l(Math.floor(5e3*Math.random()))}),[]),n?Object(S.jsx)(\"div\",{onClick:function(){var e=prompt(\"Please enter name for chat\");e&&_.collection(\"rooms\").add({name:e})},className:\"sidebarChat\",children:Object(S.jsx)(\"h2\",{children:\"Add New Chat\"})}):Object(S.jsx)(N.b,{to:\"/rooms/\".concat(c),children:Object(S.jsxs)(\"div\",{className:\"sidebarChat\",children:[Object(S.jsx)(o.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(d,\".svg\")}),Object(S.jsxs)(\"div\",{className:\"sidebarChat__info\",children:[Object(S.jsx)(\"h2\",{children:s}),Object(S.jsx)(\"p\",{children:null===(t=u[0])||void 0===t?void 0:t.message})]})]})})},w=Object(a.createContext)(),y=function(e){var t=e.reducer,c=e.initialState,s=e.children;return Object(S.jsx)(w.Provider,{value:Object(a.useReducer)(t,c),children:s})},I=function(){return Object(a.useContext)(w)};var k=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),c=t[0],s=t[1],n=I(),i=Object(r.a)(n,2),d=i[0].user;return i[1],Object(a.useEffect)((function(){var e=_.collection(\"rooms\").onSnapshot((function(e){return s(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}));return function(){e()}}),[]),Object(S.jsxs)(\"div\",{className:\"sidebar\",children:[Object(S.jsxs)(\"div\",{className:\"sidebar__header\",children:[Object(S.jsx)(o.a,{src:null===d||void 0===d?void 0:d.photoURL}),Object(S.jsxs)(\"div\",{className:\"sidebar__headerRight\",children:[Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(l.a,{})]}),Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(b.a,{})]}),Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(O.a,{})]})]})]}),Object(S.jsx)(\"div\",{className:\"sidebar__search\",children:Object(S.jsxs)(\"div\",{className:\"sidebar__searchContainer\",children:[Object(S.jsx)(x.a,{}),Object(S.jsx)(\"input\",{placeholder:\"Search or start new chat\",type:\"text\"})]})}),Object(S.jsxs)(\"div\",{className:\"sidebar__chats\",children:[Object(S.jsx)(C,{addNewChat:!0}),c.map((function(e){return Object(S.jsx)(C,{id:e.id,name:e.data.name},e.id)}))]})]})},E=c(59),P=c.n(E),T=c(60),A=c.n(T),D=c(61),R=c.n(D),B=c(11);c(86);var L=function(){var e,t,c=Object(a.useState)(\"\"),s=Object(r.a)(c,2),n=s[0],i=s[1],d=Object(a.useState)(\"\"),l=Object(r.a)(d,2),h=l[0],b=l[1],u=Object(B.f)().roomId,m=Object(a.useState)(\"\"),f=Object(r.a)(m,2),v=f[0],g=f[1],N=Object(a.useState)([]),C=Object(r.a)(N,2),w=C[0],y=C[1],k=I(),E=Object(r.a)(k,2),T=E[0].user;return E[1],Object(a.useEffect)((function(){u&&(_.collection(\"rooms\").doc(u).onSnapshot((function(e){return g(e.data().name)})),_.collection(\"rooms\").doc(u).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot((function(e){return y(e.docs.map((function(e){return e.data()})))})))}),[u]),Object(a.useEffect)((function(){b(Math.floor(5e3*Math.random()))}),[u]),Object(S.jsxs)(\"div\",{className:\"chat\",children:[Object(S.jsxs)(\"div\",{className:\"chat__header\",children:[Object(S.jsx)(o.a,{src:\"https://avatars.dicebear.com/api/human/\".concat(h,\".svg\")}),Object(S.jsxs)(\"div\",{className:\"chat__headerInfo\",children:[Object(S.jsx)(\"h3\",{children:v}),Object(S.jsxs)(\"p\",{children:[\"Last Seen \",\"\",new Date(null===(e=w[w.length-1])||void 0===e||null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()]})]}),Object(S.jsxs)(\"div\",{className:\"chat__headerRight\",children:[Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(x.a,{})]}),Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(P.a,{})]}),Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(O.a,{})]})]})]}),Object(S.jsx)(\"div\",{className:\"chat__body\",children:w.map((function(e){var t;return Object(S.jsxs)(\"p\",{className:\"chat__message \".concat(e.name===T.displayName&&\"chat__reciever\"),children:[Object(S.jsx)(\"span\",{className:\"chat__name\",children:e.name}),e.message,Object(S.jsx)(\"span\",{className:\"chat__timestamp\",children:new Date(null===(t=e.timestamp)||void 0===t?void 0:t.toDate()).toUTCString()})]})}))}),Object(S.jsxs)(\"div\",{className:\"chat__footer\",children:[Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(A.a,{})]}),Object(S.jsxs)(\"form\",{children:[Object(S.jsx)(\"input\",{value:n,type:\"text\",onChange:function(e){return i(e.target.value)},placeholder:\"Type a message\"}),Object(S.jsx)(\"button\",{onClick:function(e){e.preventDefault(),console.log(n),_.collection(\"rooms\").doc(u).collection(\"messages\").add({message:n,name:T.displayName,timestamp:p.a.firestore.FieldValue.serverTimestamp()}),i(\"\")},type:\"submit\",children:\"Send a message\"})]}),Object(S.jsxs)(j.a,{children:[\" \",Object(S.jsx)(R.a,{})]})]})]})},F=c(62),M=c(103),U=(c(87),c(50)),z=\"SET_USER\",G=function(e,t){switch(console.log(t),t.type){case z:return Object(U.a)(Object(U.a)({},e),{},{user:t.user});default:return e}};var W=function(){var e=I(),t=Object(r.a)(e,2);Object(F.a)(t[0]);var c=t[1];return Object(S.jsx)(\"div\",{className:\"login\",children:Object(S.jsxs)(\"div\",{className:\"login__container\",children:[Object(S.jsx)(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/9/90/WhatsApp_font_awesome.svg\",alt:\"\"}),Object(S.jsx)(\"div\",{className:\"login__text\",children:Object(S.jsx)(\"h5\",{children:\"Sign in to ChitChat!\"})}),Object(S.jsx)(M.a,{onClick:function(){v.signInWithPopup(g).then((function(e){c({type:z,user:e.user})})).catch((function(e){return alert(e.message)}))},children:\"Sign in With Google\"})]})})};var H=function(){var e=I(),t=Object(r.a)(e,2),c=t[0].user;return t[1],Object(S.jsx)(\"div\",{className:\"App\",children:c?Object(S.jsx)(\"div\",{className:\"app__body\",children:Object(S.jsxs)(N.a,{children:[Object(S.jsx)(k,{}),Object(S.jsxs)(B.c,{children:[Object(S.jsx)(B.a,{path:\"/rooms/:roomId\",children:Object(S.jsx)(L,{})}),Object(S.jsx)(B.a,{path:\"/\",children:Object(S.jsx)(L,{})})]})]})}):Object(S.jsx)(\"h1\",{children:Object(S.jsx)(W,{})})})},J=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,105)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),s(e),n(e),i(e)}))};i.a.render(Object(S.jsx)(s.a.StrictMode,{children:Object(S.jsx)(y,{initialState:{user:null},reducer:G,children:Object(S.jsx)(H,{})})}),document.getElementById(\"root\")),J()}},[[89,1,2]]]);","name":"static/js/main.79ff5686.chunk.js","map":{"version":3,"sources":["static/js/main.79ff5686.chunk.js"],"names":["this","push","71","module","exports","__webpack_require__","72","73","74","86","87","89","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","Avatar","IconButton","DonutLarge","DonutLarge_default","Chat","Chat_default","MoreVert","MoreVert_default","Search","Search_default","index_esm","db","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","provider","GoogleAuthProvider","firebase","react_router_dom","jsx_runtime","src_SidebarChat","_ref","_messages$","id","name","addNewChat","_useState","Object","_useState2","seed","setSeed","_useState3","_useState4","messages","setMessages","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","onClick","roomName","prompt","add","className","children","to","concat","src","message","StateContext","StateProvider_StateProvider","reducer","initialState","Provider","value","StateProvider_useStateValue","src_Sidebar","rooms","setRooms","_useStateValue","_useStateValue2","user","unsuscribe","photoURL","a","placeholder","type","room","AttachFile","AttachFile_default","InsertEmoticon","InsertEmoticon_default","Mic","Mic_default","react_router","src_Chat_0","_messages","_messages$timestamp","input","setInput","roomId","_useState5","_useState6","setRoomName","_useState7","_useState8","Date","length","timestamp","toDate","toUTCString","_message$timestamp","displayName","onChange","e","target","preventDefault","console","log","FieldValue","serverTimestamp","objectDestructuringEmpty","Button","objectSpread2","actionType","Reducer","state","action","src_Login","dispatch","alt","signInWithPopup","then","result","catch","error","alert","src_App","path","src_reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonpwhatsapp-clone\"] = this[\"webpackJsonpwhatsapp-clone\"] || []).push([[0],{\n\n/***/ 71:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 72:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 73:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 74:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 86:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 87:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 89:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(2);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(31);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(71);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(16);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(72);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(104);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(102);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/DonutLarge.js\nvar DonutLarge = __webpack_require__(57);\nvar DonutLarge_default = /*#__PURE__*/__webpack_require__.n(DonutLarge);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Chat.js\nvar Chat = __webpack_require__(58);\nvar Chat_default = /*#__PURE__*/__webpack_require__.n(Chat);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/MoreVert.js\nvar MoreVert = __webpack_require__(43);\nvar MoreVert_default = /*#__PURE__*/__webpack_require__.n(MoreVert);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Search.js\nvar Search = __webpack_require__(44);\nvar Search_default = /*#__PURE__*/__webpack_require__.n(Search);\n\n// EXTERNAL MODULE: ./src/Sidebar.css\nvar Sidebar = __webpack_require__(73);\n\n// EXTERNAL MODULE: ./src/SidebarChat.css\nvar SidebarChat = __webpack_require__(74);\n\n// EXTERNAL MODULE: ./node_modules/firebase/dist/index.esm.js + 16 modules\nvar index_esm = __webpack_require__(30);\n\n// CONCATENATED MODULE: ./src/firebase.js\n// For Firebase JS SDK v7.20.0 and later, measurementId is optional\nvar firebaseConfig={apiKey:\"AIzaSyA1P7PyHRRobOhg5XYls-xL5z3QTtL6kkw\",authDomain:\"chitchat-f9115.firebaseapp.com\",projectId:\"chitchat-f9115\",storageBucket:\"chitchat-f9115.appspot.com\",messagingSenderId:\"959264228960\",appId:\"1:959264228960:web:0d575b9f15791319982505\",measurementId:\"G-5HE8YNBZ00\"};var firebaseApp=index_esm[\"a\" /* default */].initializeApp(firebaseConfig);var db=index_esm[\"a\" /* default */].firestore();var auth=index_esm[\"a\" /* default */].auth();var provider=new index_esm[\"a\" /* default */].auth.GoogleAuthProvider();/* harmony default export */ var firebase = (db);// basically helps to connect to database\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4);\n\n// CONCATENATED MODULE: ./src/SidebarChat.js\nfunction SidebarChat_SidebarChat(_ref){var _messages$;var id=_ref.id,name=_ref.name,addNewChat=_ref.addNewChat;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),seed=_useState2[0],setSeed=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];Object(react[\"useEffect\"])(function(){if(id){firebase.collection('rooms').doc(id).collection('messages').orderBy('timestamp','desc').onSnapshot(function(snapshot){return setMessages(snapshot.docs.map(function(doc){return doc.data();}));});}},[id]);Object(react[\"useEffect\"])(function(){setSeed(Math.floor(Math.random()*5000));},[]);var createChat=function createChat(){var roomName=prompt(\"Please enter name for chat\");if(roomName){//some database stuff\nfirebase.collection(\"rooms\").add({name:roomName});}};return!addNewChat?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/rooms/\".concat(id),children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebarChat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"https://avatars.dicebear.com/api/human/\".concat(seed,\".svg\")}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebarChat__info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:(_messages$=messages[0])===null||_messages$===void 0?void 0:_messages$.message})]})]})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{onClick:createChat,className:\"sidebarChat\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Add New Chat\"})});}/* harmony default export */ var src_SidebarChat = (SidebarChat_SidebarChat);\n// CONCATENATED MODULE: ./src/StateProvider.js\nvar StateContext=/*#__PURE__*/Object(react[\"createContext\"])();var StateProvider_StateProvider=function StateProvider(_ref){var reducer=_ref.reducer,initialState=_ref.initialState,children=_ref.children;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StateContext.Provider,{value:Object(react[\"useReducer\"])(reducer,initialState),children:children});};var StateProvider_useStateValue=function useStateValue(){return Object(react[\"useContext\"])(StateContext);};//pull information from data layer\n// CONCATENATED MODULE: ./src/Sidebar.js\nfunction Sidebar_Sidebar(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];Object(react[\"useEffect\"])(function(){var unsuscribe=firebase.collection(\"rooms\").onSnapshot(function(snapshot){return(//Again have to revise Snapshot \nsetRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()//all the object datas inside document\n};})));});return function(){unsuscribe();};},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__headerRight\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(DonutLarge_default.a,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Chat_default.a,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"sidebar__search\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__searchContainer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_default.a,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Search or start new chat\",type:\"text\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"sidebar__chats\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_SidebarChat,{id:room.id,name:room.data.name},room.id);})]})]});}/* harmony default export */ var src_Sidebar = (Sidebar_Sidebar);\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AttachFile.js\nvar AttachFile = __webpack_require__(59);\nvar AttachFile_default = /*#__PURE__*/__webpack_require__.n(AttachFile);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/InsertEmoticon.js\nvar InsertEmoticon = __webpack_require__(60);\nvar InsertEmoticon_default = /*#__PURE__*/__webpack_require__.n(InsertEmoticon);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/Mic.js\nvar Mic = __webpack_require__(61);\nvar Mic_default = /*#__PURE__*/__webpack_require__.n(Mic);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(11);\n\n// EXTERNAL MODULE: ./src/Chat.css\nvar src_Chat = __webpack_require__(86);\n\n// CONCATENATED MODULE: ./src/Chat.js\nfunction Chat_Chat(){var _messages,_messages$timestamp;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),seed=_useState4[0],setSeed=_useState4[1];var _useParams=Object(react_router[\"f\" /* useParams */])(),roomId=_useParams.roomId;var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),roomName=_useState6[0],setRoomName=_useState6[1];var _useState7=Object(react[\"useState\"])([]),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),messages=_useState8[0],setMessages=_useState8[1];var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];Object(react[\"useEffect\"])(function(){if(roomId){firebase.collection(\"rooms\").doc(roomId).onSnapshot(function(snapshot){return setRoomName(snapshot.data().name);});firebase.collection(\"rooms\").doc(roomId).collection(\"messages\").orderBy(\"timestamp\",\"asc\").onSnapshot(function(snapshot){return setMessages(snapshot.docs.map(function(doc){return doc.data();}));});}},[roomId]);Object(react[\"useEffect\"])(function(){setSeed(Math.floor(Math.random()*5000));},[roomId]);var sendMessage=function sendMessage(e){e.preventDefault();console.log(input);firebase.collection('rooms').doc(roomId).collection('messages').add({message:input,name:user.displayName,timestamp:index_esm[\"a\" /* default */].firestore.FieldValue.serverTimestamp()});setInput(\"\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"https://avatars.dicebear.com/api/human/\".concat(seed,\".svg\")}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__headerInfo\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:roomName}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Last Seen \",\"\",new Date((_messages=messages[messages.length-1])===null||_messages===void 0?void 0:(_messages$timestamp=_messages.timestamp)===null||_messages$timestamp===void 0?void 0:_messages$timestamp.toDate()).toUTCString()]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__headerRight\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search_default.a,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AttachFile_default.a,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MoreVert_default.a,{})]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__body\",children:messages.map(function(message){var _message$timestamp;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"chat__message \".concat(message.name===user.displayName&&\"chat__reciever\"),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__name\",children:message.name}),message.message,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__timestamp\",children:new Date((_message$timestamp=message.timestamp)===null||_message$timestamp===void 0?void 0:_message$timestamp.toDate()).toUTCString()})]});})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(InsertEmoticon_default.a,{})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:input,type:\"text\",onChange:function onChange(e){return setInput(e.target.value);},placeholder:\"Type a message\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:sendMessage,type:\"submit\",children:\"Send a message\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(IconButton[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Mic_default.a,{})]})]})]});}/* harmony default export */ var src_Chat_0 = (Chat_Chat);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js\nvar objectDestructuringEmpty = __webpack_require__(62);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(103);\n\n// EXTERNAL MODULE: ./src/Login.css\nvar Login = __webpack_require__(87);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(50);\n\n// CONCATENATED MODULE: ./src/Reducer.js\nvar Reducer_initialState={user:null//start with user not being logged in\n};var actionType={SET_USER:\"SET_USER\"//when we signed in then push information into the data layer\n};var Reducer_reducer=function reducer(state,action){console.log(action);switch(action.type){case actionType.SET_USER:return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},state),{},{user:action.user});default:return state;}};/* harmony default export */ var Reducer = (Reducer_reducer);\n// CONCATENATED MODULE: ./src/Login.js\nfunction Login_Login(){var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2);Object(objectDestructuringEmpty[\"a\" /* default */])(_useStateValue2[0]);var dispatch=_useStateValue2[1];var signIn=function signIn(){auth.signInWithPopup(provider).then(function(result){dispatch({type:actionType.SET_USER,user:result.user});}).catch(function(error){return alert(error.message);});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"login__container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:\"https://upload.wikimedia.org/wikipedia/commons/9/90/WhatsApp_font_awesome.svg\",alt:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login__text\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h5\",{children:\"Sign in to ChitChat!\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:signIn,children:\"Sign in With Google\"})]})});}/* harmony default export */ var src_Login = (Login_Login);\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useStateValue=StateProvider_useStateValue(),_useStateValue2=Object(slicedToArray[\"a\" /* default */])(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:!user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Login,{})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"app__body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Sidebar,{}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/rooms/:roomId\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Chat_0,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Chat_0,{})})]})]})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 105)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StateProvider_StateProvider,{initialState:Reducer_initialState,reducer:Reducer,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[89,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Shubham\\whatsapp-clone\\src\\index.css","C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Shubham\\whatsapp-clone\\src\\App.css","C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Shubham\\whatsapp-clone\\src\\Sidebar.css","C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Shubham\\whatsapp-clone\\src\\SidebarChat.css","C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Shubham\\whatsapp-clone\\src\\Chat.css","C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Shubham\\whatsapp-clone\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Shubham\\whatsapp-clone\\src\\Login.css","C:/Users/Shubham/whatsapp-clone/src/firebase.js","C:/Users/Shubham/whatsapp-clone/src/SidebarChat.js","C:/Users/Shubham/whatsapp-clone/src/StateProvider.js","C:/Users/Shubham/whatsapp-clone/src/Sidebar.js","C:/Users/Shubham/whatsapp-clone/src/Chat.js","C:/Users/Shubham/whatsapp-clone/src/Reducer.js","C:/Users/Shubham/whatsapp-clone/src/Login.js","C:/Users/Shubham/whatsapp-clone/src/App.js","C:/Users/Shubham/whatsapp-clone/src/reportWebVitals.js","C:/Users/Shubham/whatsapp-clone/src/index.js"],"names":["firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firebaseApp","firebase","initializeApp","db","firestore","auth","provider","GoogleAuthProvider","SidebarChat","id","name","addNewChat","useState","seed","setSeed","messages","setMessages","useEffect","collection","doc","orderBy","onSnapshot","snapshot","docs","map","data","Math","floor","random","createChat","roomName","prompt","add","message","StateContext","createContext","StateProvider","reducer","initialState","children","useReducer","useStateValue","useContext","Sidebar","rooms","setRooms","user","dispatch","unsuscribe","photoURL","room","Chat","input","setInput","useParams","roomId","setRoomName","sendMessage","e","preventDefault","console","log","displayName","timestamp","FieldValue","serverTimestamp","Date","length","toDate","toUTCString","target","value","actionType","SET_USER","state","action","type","Login","signIn","signInWithPopup","then","result","catch","error","alert","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAIE,GAAIA,eAAc,CAAG,CACnBC,MAAM,CAAE,yCADW,CAEnBC,UAAU,CAAE,gCAFO,CAGnBC,SAAS,CAAE,gBAHQ,CAInBC,aAAa,CAAE,4BAJI,CAKnBC,iBAAiB,CAAE,cALA,CAMnBC,KAAK,CAAE,2CANY,CAOnBC,aAAa,CAAE,cAPI,CAArB,CAUA,GAAMC,YAAW,CAAGC,4BAAQ,CAACC,aAAT,CAAuBV,cAAvB,CAApB,CACA,GAAMW,GAAE,CAAGF,4BAAQ,CAACG,SAAT,EAAX,CACA,GAAMC,KAAI,CAAGJ,4BAAQ,CAACI,IAAT,EAAb,CACA,GAAMC,SAAQ,CAAG,GAAIL,6BAAQ,CAACI,IAAT,CAAcE,kBAAlB,EAAjB,CAIeJ,+CAAf,EAGA,yC;;;;;;;;AClBF,QAASK,wBAAT,MAA6C,mBAAvBC,GAAuB,MAAvBA,EAAuB,CAAnBC,IAAmB,MAAnBA,IAAmB,CAAbC,UAAa,MAAbA,UAAa,CAEzC,cAAwBC,yBAAQ,CAAC,EAAD,CAAhC,kEAAOC,IAAP,eAAaC,OAAb,eACA,eAA+BF,yBAAQ,CAAC,EAAD,CAAvC,mEAAMG,QAAN,eAAgBC,WAAhB,eAEAC,0BAAS,CAAC,UAAM,CACZ,GAAGR,EAAH,CAAO,CACHN,QAAE,CAACe,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BV,EAA3B,EAA+BS,UAA/B,CAA0C,UAA1C,EAAsDE,OAAtD,CAA8D,WAA9D,CAA2E,MAA3E,EAAmFC,UAAnF,CAA8F,SAACC,QAAD,QAAcN,YAAW,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACL,GAAD,QAASA,IAAG,CAACM,IAAJ,EAAT,EAAlB,CAAD,CAAzB,EAA9F,EAEH,CACJ,CALQ,CAKN,CAAChB,EAAD,CALM,CAAT,CAOAQ,0BAAS,CAAC,UAAM,CACZH,OAAO,CAACY,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,IAA3B,CAAD,CAAP,CACH,CAFQ,CAEN,EAFM,CAAT,CAKA,GAAMC,WAAU,CAAG,QAAbA,WAAa,EAAM,CACtB,GAAMC,SAAQ,CAAGC,MAAM,CAAC,4BAAD,CAAvB,CAEA,GAAGD,QAAH,CAAa,CACT;AAEA3B,QAAE,CAACe,UAAH,CAAc,OAAd,EAAuBc,GAAvB,CAA2B,CACvBtB,IAAI,CAAEoB,QADiB,CAA3B,EAGH,CACH,CAVD,CAYA,MAAO,CAACnB,UAAD,cACF,2BAAC,gCAAD,EAAM,EAAE,kBAAYF,EAAZ,CAAR,uBACE,mCAAK,SAAS,CAAC,aAAf,wBACA,2BAAC,yBAAD,EAAQ,GAAG,kDAA4CI,IAA5C,QAAX,EADA,cAEA,mCAAK,SAAS,CAAC,mBAAf,wBACI,0CAAKH,IAAL,EADJ,cAEI,qDAAIK,QAAQ,CAAC,CAAD,CAAZ,qCAAI,WAAakB,OAAjB,EAFJ,GAFA,GADF,EADE,cAcH,kCAAK,OAAO,CAAEJ,UAAd,CACA,SAAS,CAAC,aADV,uBAEI,0DAFJ,EAdJ,CAmBH,CAEcrB,2EAAf,E;;ACtDO,GAAM0B,aAAY,cAAEC,8BAAa,EAAjC,CAEA,GAAMC,4BAAa,CAAG,QAAhBA,cAAgB,UAAGC,QAAH,MAAGA,OAAH,CAC7BC,YAD6B,MAC7BA,YAD6B,CACfC,QADe,MACfA,QADe,oBACC,2BAAC,YAAD,CAAc,QAAd,EAAuB,KAAK,CACxDC,2BAAU,CAACH,OAAD,CAAUC,YAAV,CADkB,UAE7BC,QAF6B,EADD,EAAtB,CAMA,GAAME,4BAAa,CAAG,QAAhBA,cAAgB,SAAMC,4BAAU,CAACR,YAAD,CAAhB,EAAtB,CAAuD,kC;;ACE9D,QAASS,gBAAT,EAAkB,CAClB,cAAyB/B,yBAAQ,CAAC,EAAD,CAAjC,kEAAMgC,KAAN,eAAaC,QAAb,eACA,mBAA0BJ,2BAAa,EAAvC,4EAAOK,IAAP,oBAAOA,IAAP,CAAcC,QAAd,oBAEA9B,0BAAS,CAAC,UAAM,CACb,GAAM+B,WAAU,CAAG7C,QAAE,CAACe,UAAH,CAAc,OAAd,EAAuBG,UAAvB,CAAkC,SAACC,QAAD,QAAiB;AAErEuB,QAAQ,CAACvB,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACL,GAAD,QAAU,CACjCV,EAAE,CAAEU,GAAG,CAACV,EADyB,CAEjCgB,IAAI,CAAEN,GAAG,CAACM,IAAJ,EAAc;AAFa,CAAV,EAAlB,CAAD,CAF4C,GAAlC,CAAnB,CASC,MAAO,WAAM,CACTuB,UAAU,GACb,CAFD,CAIH,CAdQ,CAcL,EAdK,CAAT,CAiBA,mBAEI,mCAAK,SAAS,CAAC,SAAf,wBACI,mCAAK,SAAS,CAAC,iBAAf,wBACD,2BAAE,yBAAF,EAAS,GAAG,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEG,QAApB,EADC,cAED,mCAAK,SAAS,CAAC,sBAAf,wBACA,4BAAC,6BAAD,6BAAa,2BAAC,oBAAD,IAAb,GADA,cAEA,4BAAC,6BAAD,6BAAa,2BAAC,cAAD,IAAb,GAFA,cAGA,4BAAC,6BAAD,6BAAa,2BAAC,kBAAD,IAAb,GAHA,GAFC,GADJ,cAWG,kCAAK,SAAS,CAAC,iBAAf,uBACC,mCAAK,SAAS,CAAC,0BAAf,wBACA,2BAAC,gBAAD,IADA,cAEA,oCAAO,WAAW,CAAC,0BAAnB,CAA8C,IAAI,CAAC,MAAnD,EAFA,GADD,EAXH,cAkBI,mCAAK,SAAS,CAAC,gBAAf,wBACA,2BAAC,eAAD,EAAa,UAAU,KAAvB,EADA,CAECL,KAAK,CAACpB,GAAN,CAAU,SAAA0B,IAAI,qBACX,2BAAC,eAAD,EAA2B,EAAE,CAAEA,IAAI,CAACzC,EAApC,CAAwC,IAAI,CAAEyC,IAAI,CAACzB,IAAL,CAAUf,IAAxD,EAAkBwC,IAAI,CAACzC,EAAvB,CADW,EAAd,CAFD,GAlBJ,GAFJ,CA4BC,CAEckC,+DAAf,E;;;;;;;;;;;;;;;;;;;;AChDA,QAASQ,UAAT,EAAgB,mCAEZ,cAAyBvC,yBAAQ,CAAC,EAAD,CAAjC,kEAAMwC,KAAN,eAAaC,QAAb,eACA,eAAwBzC,yBAAQ,CAAC,EAAD,CAAhC,mEAAOC,IAAP,eAAaC,OAAb,eACA,eAAkBwC,yCAAS,EAA3B,CAAOC,MAAP,YAAOA,MAAP,CACA,eAAgC3C,yBAAQ,CAAC,EAAD,CAAxC,mEAAOkB,QAAP,eAAiB0B,WAAjB,eACA,eAA+B5C,yBAAQ,CAAC,EAAD,CAAvC,mEAAMG,QAAN,eAAgBC,WAAhB,eACA,mBAA2ByB,2BAAa,EAAxC,4EAAQK,IAAR,oBAAQA,IAAR,CAAeC,QAAf,oBAED9B,0BAAS,CAAC,UAAK,CACX,GAAGsC,MAAH,CAAW,CACPpD,QAAE,CAACe,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BoC,MAA3B,EAAmClC,UAAnC,CAA8C,SAACC,QAAD,QAAckC,YAAW,CAAClC,QAAQ,CAACG,IAAT,GAAgBf,IAAjB,CAAzB,EAA9C,EAEAP,QAAE,CAACe,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BoC,MAA3B,EAAmCrC,UAAnC,CAA8C,UAA9C,EAA0DE,OAA1D,CAAkE,WAAlE,CAA+E,KAA/E,EAAsFC,UAAtF,CAAiG,SAACC,QAAD,QAC7FN,YAAW,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACL,GAAD,QAASA,IAAG,CAACM,IAAJ,EAAT,EAAlB,CAAD,CADkF,EAAjG,EAGH,CACJ,CARQ,CAQN,CAAC8B,MAAD,CARM,CAAT,CAUCtC,0BAAS,CAAC,UAAM,CACZH,OAAO,CAACY,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,IAA3B,CAAD,CAAP,CACH,CAFQ,CAEN,CAAC2B,MAAD,CAFM,CAAT,CAIA,GAAME,YAAW,CAAG,QAAdA,YAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GACAC,OAAO,CAACC,GAAR,CAAYT,KAAZ,EAEAjD,QAAE,CAACe,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BoC,MAA3B,EAAmCrC,UAAnC,CAA8C,UAA9C,EAA0Dc,GAA1D,CAA8D,CAC1DC,OAAO,CAAEmB,KADiD,CAE1D1C,IAAI,CAAEoC,IAAI,CAACgB,WAF+C,CAG1DC,SAAS,CAAE9D,4BAAQ,CAACG,SAAT,CAAmB4D,UAAnB,CAA8BC,eAA9B,EAH+C,CAA9D,EAMAZ,QAAQ,CAAC,EAAD,CAAR,CACH,CAXD,CAeA,mBACI,mCAAK,SAAS,CAAC,MAAf,wBAEI,mCAAK,SAAS,CAAC,cAAf,wBACA,2BAAC,yBAAD,EAAQ,GAAG,kDAA4CxC,IAA5C,QAAX,EADA,cAEA,mCAAK,SAAS,CAAC,kBAAf,wBACI,0CAAKiB,QAAL,EADJ,cAEI,wDAAc,EAAd,CACC,GAAIoC,KAAJ,YACGnD,QAAQ,CAACA,QAAQ,CAACoD,MAAT,CAAkB,CAAnB,CADX,yDACG,UAA+BJ,SADlC,8CACG,oBAA0CK,MAA1C,EADH,EACuDC,WADvD,EADD,GAFJ,GAFA,cASA,mCAAK,SAAS,CAAC,mBAAf,wBACA,4BAAC,6BAAD,6BAAa,2BAAC,gBAAD,IAAb,GADA,cAEA,4BAAC,6BAAD,6BAAa,2BAAC,oBAAD,IAAb,GAFA,cAGF,4BAAC,6BAAD,6BAAa,2BAAC,kBAAD,IAAb,GAHE,GATA,GAFJ,cAkBJ,kCAAK,SAAS,CAAC,YAAf,UACGtD,QAAQ,CAACS,GAAT,CAAa,SAACS,OAAD,4CACZ,iCAAG,SAAS,yBACRA,OAAO,CAACvB,IAAR,GAAiBoC,IAAI,CAACgB,WAAtB,EACI,gBAFI,CAAZ,wBAGF,mCAAM,SAAS,CAAC,YAAhB,UAA8B7B,OAAO,CAACvB,IAAtC,EAHE,CAIDuB,OAAO,CAACA,OAJP,cAKF,mCAAM,SAAS,CAAC,iBAAhB,UACK,GAAIiC,KAAJ,qBAASjC,OAAO,CAAC8B,SAAjB,6CAAS,mBAAmBK,MAAnB,EAAT,EAAsCC,WAAtC,EADL,EALE,GADY,EAAb,CADH,EAlBI,cAgCJ,mCAAK,SAAS,CAAC,cAAf,wBACG,4BAAC,6BAAD,6BAAa,2BAAC,wBAAD,IAAb,GADH,cAEG,2DACI,oCAAO,KAAK,CAAEjB,KAAd,CAAqB,IAAI,CAAC,MAA1B,CAAkC,QAAQ,CAAE,kBAAAM,CAAC,QAAIL,SAAQ,CAACK,CAAC,CAACY,MAAF,CAASC,KAAV,CAAZ,EAA7C,CACI,WAAW,CAAC,gBADhB,EADJ,cAII,qCAAQ,OAAO,CAAEd,WAAjB,CACA,IAAI,CAAC,QADL,4BAJJ,GAFH,cASI,4BAAC,6BAAD,6BAAa,2BAAC,aAAD,IAAb,GATJ,GAhCI,GADJ,CA8CH,CAEcN,wDAAf,E;;;;;;;;;;;;;;ACrGO,GAAMb,qBAAY,CAAG,CACxBQ,IAAI,CAAE,IAAQ;AADU,CAArB,CAIA,GAAM0B,WAAU,CAAG,CACtBC,QAAQ,CAAE,UAAa;AADD,CAAnB,CAIP,GAAMpC,gBAAO,CAAG,QAAVA,QAAU,CAACqC,KAAD,CAAQC,MAAR,CAAmB,CAC/Bf,OAAO,CAACC,GAAR,CAAYc,MAAZ,EACA,OAAOA,MAAM,CAACC,IAAd,EACI,IAAKJ,WAAU,CAACC,QAAhB,CACI,OAAO,qFACAC,KADP,MAEI5B,IAAI,CAAE6B,MAAM,CAAC7B,IAFjB,GAKA,QACI,MAAO4B,MAAP,CARZ,CAWH,CAbD,CAeerC,2DAAf,E;;AChBA,QAASwC,YAAT,EAAiB,CACd,mBAAuBpC,2BAAa,EAApC,uJAAWM,SAAX,oBAGC,GAAM+B,OAAM,CAAG,QAATA,OAAS,EAAO,CAClBzE,IAAI,CAAC0E,eAAL,CAAqBzE,QAArB,EAA+B0E,IAA/B,CAAoC,SAACC,MAAD,CAAY,CAC5ClC,QAAQ,CAAC,CACL6B,IAAI,CAAEJ,UAAU,CAACC,QADZ,CAEL3B,IAAI,CAAEmC,MAAM,CAACnC,IAFR,CAAD,CAAR,CAIH,CALD,EAKGoC,KALH,CAKS,SAACC,KAAD,QAAWC,MAAK,CAACD,KAAK,CAAClD,OAAP,CAAhB,EALT,EAOH,CARD,CAUA,mBACI,kCAAK,SAAS,CAAC,OAAf,uBACI,mCAAK,SAAS,CAAC,kBAAf,wBACD,kCACA,GAAG,CAAC,+EADJ,CAEA,GAAG,CAAC,EAFJ,EADC,cAKD,kCAAK,SAAS,CAAC,aAAf,uBACI,kEADJ,EALC,cASD,2BAAC,yBAAD,EAAQ,OAAO,CAAE6C,MAAjB,iCATC,GADJ,EADJ,CAeH,CAEcD,yDAAf,E;;ACzBA,QAASQ,QAAT,EAAe,CACZ,mBAA6B5C,2BAAa,EAA1C,4EAAQK,IAAR,oBAAQA,IAAR,CAAiBC,QAAjB,oBAED,mBACG,kCAAK,SAAS,CAAC,KAAf,UACA,CAACD,IAAD,cACC,uDAAI,2BAAC,SAAD,IAAJ,EADD,cAIC,kCAAK,SAAS,CAAC,WAAf,uBACL,4BAAC,yCAAD,yBACA,2BAAC,WAAD,IADA,cAEA,4BAAC,8BAAD,yBACA,2BAAC,6BAAD,EAAO,IAAI,CAAC,gBAAZ,uBACE,2BAAC,UAAD,IADF,EADA,cAIA,2BAAC,6BAAD,EAAO,IAAI,CAAC,GAAZ,uBACA,2BAAC,UAAD,IADA,EAJA,GAFA,GADK,EALD,EADH,CAwBD,CAEcuC,mDAAf,E;;AC1CA,GAAMC,gBAAe,CAAG,QAAlBA,gBAAkB,CAAAC,WAAW,CAAI,CACrC,GAAIA,WAAW,EAAIA,WAAW,WAAYC,SAA1C,CAAoD,CAClD,kFAAqBR,IAArB,CAA0B,cAAiD,IAA9CS,OAA8C,MAA9CA,MAA8C,CAAtCC,MAAsC,MAAtCA,MAAsC,CAA9BC,MAA8B,MAA9BA,MAA8B,CAAtBC,MAAsB,MAAtBA,MAAsB,CAAdC,OAAc,MAAdA,OAAc,CACzEJ,MAAM,CAACF,WAAD,CAAN,CACAG,MAAM,CAACH,WAAD,CAAN,CACAI,MAAM,CAACJ,WAAD,CAAN,CACAK,MAAM,CAACL,WAAD,CAAN,CACAM,OAAO,CAACN,WAAD,CAAP,CACD,CAND,EAOD,CACF,CAVD,CAYeD,uEAAf,E;;ACHAQ,mBAAQ,CAACC,MAAT,cACE,2BAAC,eAAD,CAAO,UAAP,wBACA,2BAAC,2BAAD,EAAe,YAAY,CAAEzD,oBAA7B,CAA2C,OAAO,CAAED,OAApD,uBAA6D,2BAAC,OAAD,IAA7D,EADA,EADF,CAIE2D,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAJF,EAOA;AACA;AACA;AACAX,mBAAe,G","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// For Firebase JS SDK v7.20.0 and later, measurementId is optional\r\nimport firebase from \"firebase\"; \r\n\r\n\r\n  var firebaseConfig = {\r\n    apiKey: \"AIzaSyA1P7PyHRRobOhg5XYls-xL5z3QTtL6kkw\",\r\n    authDomain: \"chitchat-f9115.firebaseapp.com\",\r\n    projectId: \"chitchat-f9115\",\r\n    storageBucket: \"chitchat-f9115.appspot.com\",\r\n    messagingSenderId: \"959264228960\",\r\n    appId: \"1:959264228960:web:0d575b9f15791319982505\",\r\n    measurementId: \"G-5HE8YNBZ00\"\r\n  };\r\n\r\n  const firebaseApp = firebase.initializeApp(firebaseConfig);\r\n  const db = firebase.firestore();\r\n  const auth = firebase.auth();\r\n  const provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n\r\n  export {auth, provider};\r\n  export default db;\r\n\r\n\r\n  // basically helps to connect to database \r\n  ","import React, { useState, useEffect} from 'react';\r\nimport { Avatar } from '@material-ui/core';\r\nimport './SidebarChat.css';\r\nimport db from './firebase'; \r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction SidebarChat({id, name, addNewChat}) {\r\n\r\n    const [seed, setSeed] = useState(\"\");\r\n    const[messages, setMessages] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        if(id) {\r\n            db.collection('rooms').doc(id).collection('messages').orderBy('timestamp', 'desc').onSnapshot((snapshot) => setMessages(snapshot.docs.map((doc) => doc.data()))\r\n            );\r\n        }\r\n    }, [id]);\r\n\r\n    useEffect(() => {\r\n        setSeed(Math.floor(Math.random() * 5000));\r\n    }, []);\r\n\r\n\r\n    const createChat = () => {\r\n       const roomName = prompt(\"Please enter name for chat\");\r\n       \r\n       if(roomName) {\r\n           //some database stuff\r\n\r\n           db.collection(\"rooms\").add({\r\n               name: roomName,\r\n           });\r\n       }\r\n    };\r\n\r\n    return !addNewChat ? (\r\n         <Link to={`/rooms/${id}`}>\r\n           <div className=\"sidebarChat\">\r\n           <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\r\n           <div className=\"sidebarChat__info\">\r\n               <h2>{name}</h2>\r\n               <p>{messages[0]?.message}</p>\r\n           </div>\r\n        </div>\r\n\r\n         </Link>\r\n\r\n      \r\n    ) : (\r\n        <div onClick={createChat}\r\n        className=\"sidebarChat\">\r\n            <h2>Add New Chat</h2>\r\n        </div>\r\n         );\r\n}\r\n\r\nexport default SidebarChat;\r\n","import React, {createContext, useContext, useReducer} from \"react\";\r\n\r\nexport const StateContext =createContext();\r\n\r\nexport const StateProvider = ({ reducer, \r\ninitialState, children }) => (<StateContext.Provider value=  //children is actually app.js\r\n {useReducer(reducer, initialState)}>\r\n{children}\r\n</StateContext.Provider>);\r\n\r\nexport const useStateValue = () => useContext(StateContext);  //pull information from data layer","import React, {useState, useEffect} from \"react\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport './Sidebar.css';\r\nimport SidebarChat from './SidebarChat.js';\r\nimport db from './firebase'\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\n\r\nfunction Sidebar(){\r\nconst[rooms, setRooms] = useState([]);\r\nconst[{user}, dispatch] = useStateValue();\r\n\r\nuseEffect(() => {      \r\n   const unsuscribe = db.collection(\"rooms\").onSnapshot((snapshot) =>    //Again have to revise Snapshot \r\n    \r\n    setRooms(snapshot.docs.map((doc) => ({ \r\n        id: doc.id,\r\n        data: doc.data(),   //all the object datas inside document\r\n    }))\r\n    )\r\n    );\r\n\r\n    return () => {\r\n        unsuscribe();\r\n    }\r\n\r\n},  []);\r\n\r\n\r\nreturn (\r\n         \r\n    <div className=\"sidebar\">\r\n        <div className=\"sidebar__header\">\r\n       < Avatar src={user?.photoURL} />\r\n       <div className=\"sidebar__headerRight\">\r\n       <IconButton> <DonutLargeIcon /></IconButton>\r\n       <IconButton> <ChatIcon /></IconButton>\r\n       <IconButton> <MoreVertIcon /></IconButton>\r\n       </div>\r\n\r\n        </div>\r\n        \r\n       <div className=\"sidebar__search\">\r\n        <div className=\"sidebar__searchContainer\">\r\n        <SearchIcon />\r\n        <input placeholder=\"Search or start new chat\" type=\"text\" />\r\n        </div>\r\n       </div>\r\n        \r\n        <div className=\"sidebar__chats\">\r\n        <SidebarChat addNewChat/>\r\n        {rooms.map(room => (\r\n            <SidebarChat key={room.id} id={room.id} name={room.data.name}/>\r\n        ))}\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;\r\n\r\n\r\n\r\n","import React, {useState, useEffect} from 'react'\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport { useParams } from \"react-router-dom\";\r\nimport db from \"./firebase\";\r\nimport './Chat.css';\r\nimport firebase from \"firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\n\r\n\r\nfunction Chat() {\r\n    \r\n    const[input, setInput] = useState(\"\");\r\n    const [seed, setSeed] = useState(\"\");\r\n    const{ roomId } = useParams();\r\n    const [roomName, setRoomName] = useState(\"\");\r\n    const[messages, setMessages] = useState([]);\r\n    const [{user}, dispatch] = useStateValue();\r\n\r\n   useEffect(() =>{\r\n       if(roomId) {\r\n           db.collection(\"rooms\").doc(roomId).onSnapshot((snapshot) => setRoomName(snapshot.data().name)); \r\n\r\n           db.collection(\"rooms\").doc(roomId).collection(\"messages\").orderBy(\"timestamp\", \"asc\").onSnapshot((snapshot) => \r\n               setMessages(snapshot.docs.map((doc) => doc.data()))\r\n           );\r\n       }\r\n   }, [roomId]);\r\n\r\n    useEffect(() => {\r\n        setSeed(Math.floor(Math.random() * 5000));\r\n    }, [roomId]);\r\n\r\n    const sendMessage = (e) => {\r\n        e.preventDefault();\r\n        console.log(input);\r\n\r\n        db.collection('rooms').doc(roomId).collection('messages').add({\r\n            message: input,\r\n            name: user.displayName,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n           });\r\n\r\n        setInput(\"\");\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"chat\">\r\n            \r\n            <div className=\"chat__header\">\r\n            <Avatar src={`https://avatars.dicebear.com/api/human/${seed}.svg`} />\r\n            <div className=\"chat__headerInfo\">\r\n                <h3>{roomName}</h3>\r\n                <p>Last Seen {\"\"}\r\n                {new Date(\r\n                    messages[messages.length - 1]?.timestamp?.toDate()).toUTCString()}\r\n                </p>\r\n            </div>\r\n            <div className=\"chat__headerRight\">\r\n            <IconButton> <SearchIcon /></IconButton>\r\n            <IconButton> <AttachFileIcon/></IconButton>\r\n          <IconButton> <MoreVertIcon /></IconButton>\r\n\r\n            </div>\r\n            </div>\r\n    <div className=\"chat__body\">\r\n      {messages.map((message) => (\r\n        <p className={`chat__message ${\r\n            message.name === user.displayName\r\n             && \"chat__reciever\"}`}> \r\n      <span className=\"chat__name\">{message.name}</span>\r\n      {message.message}\r\n      <span className=\"chat__timestamp\">\r\n          {new Date(message.timestamp?.toDate()).toUTCString()}\r\n      </span>\r\n      </p>\r\n      ))}\r\n     \r\n      </div>\r\n    <div className=\"chat__footer\">\r\n       <IconButton> <InsertEmoticonIcon /></IconButton>\r\n       <form>\r\n           <input value={input} type=\"text\"  onChange={e => setInput(e.target.value)}\r\n               placeholder=\"Type a message\"\r\n           />\r\n           <button onClick={sendMessage} \r\n           type=\"submit\">Send a message</button>\r\n       </form>\r\n        <IconButton> <MicIcon /></IconButton>\r\n    </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat;\r\n","export const initialState = {\r\n    user: null,   //start with user not being logged in\r\n};\r\n\r\nexport const actionType = {\r\n    SET_USER: \"SET_USER\",  //when we signed in then push information into the data layer\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    console.log(action);\r\n    switch(action.type) {\r\n        case actionType.SET_USER:\r\n            return {\r\n                ...state, \r\n                user: action.user,\r\n            };\r\n\r\n            default:\r\n                return state;\r\n\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from \"react\";\r\nimport { Button } from \"@material-ui/core\";\r\nimport \"./Login.css\";\r\nimport { auth, provider } from \"./firebase\";\r\nimport { useStateValue } from \"./StateProvider\";\r\nimport { actionType } from \"./Reducer\";\r\n\r\nfunction Login() {\r\n   const [{}, dispatch] = useStateValue();\r\n\r\n\r\n    const signIn = ()  => {\r\n        auth.signInWithPopup(provider).then((result) => {\r\n            dispatch({\r\n                type: actionType.SET_USER,\r\n                user: result.user,\r\n            });\r\n        }).catch((error) => alert(error.message));\r\n\r\n    };\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login__container\">\r\n           <img \r\n           src=\"https://upload.wikimedia.org/wikipedia/commons/9/90/WhatsApp_font_awesome.svg\"\r\n           alt=\"\"\r\n           />\r\n           <div className=\"login__text\">\r\n               <h5>Sign in to ChitChat!</h5>\r\n           </div>\r\n\r\n           <Button onClick={signIn}>Sign in With Google</Button>\r\n            </div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import React, { useState } from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport Chat from './Chat.js';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link\n} from \"react-router-dom\";\nimport Login from \"./Login.js\";\nimport { useStateValue } from \"./StateProvider\";\n\nfunction App() {\n   const[{ user } , dispatch] = useStateValue();\n\n  return(\n     <div className=\"App\">\n    {!user ? ( \n      <h1><Login /></h1>\n    ): ( \n      \n      <div className=\"app__body\">\n <Router>\n <Sidebar />\n <Switch>\n <Route path=\"/rooms/:roomId\">\n   <Chat />\n </Route>\n <Route path=\"/\">\n <Chat />\n </Route>\n </Switch>\n</Router>\n </div>\n )}\n\n </div> \n  )\n  \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport reducer, { initialState } from \"./Reducer\";\nimport { StateProvider } from \"./StateProvider\";\n\n\nReactDOM.render(\n  <React.StrictMode>\n  <StateProvider initialState={initialState} reducer={reducer}><App /></StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"]}}