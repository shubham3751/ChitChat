{"ast":null,"code":"import _slicedToArray from\"C:/Users/Shubham/whatsapp-clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Avatar,IconButton}from\"@material-ui/core\";import DonutLargeIcon from'@material-ui/icons/DonutLarge';import ChatIcon from'@material-ui/icons/Chat';import MoreVertIcon from'@material-ui/icons/MoreVert';import SearchIcon from'@material-ui/icons/Search';import'./Sidebar.css';import SidebarChat from'./SidebarChat.js';import db from'./firebase';import{useStateValue}from\"./StateProvider\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),rooms=_useState2[0],setRooms=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),user=_useStateValue2[0].user,dispatch=_useStateValue2[1];useEffect(function(){var unsuscribe=db.collection(\"rooms\").onSnapshot(function(snapshot){return(//Again have to revise Snapshot \nsetRooms(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()//all the object datas inside document\n};})));});return function(){unsuscribe();};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__header\",children:[/*#__PURE__*/_jsx(Avatar,{src:user===null||user===void 0?void 0:user.photoURL}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__headerRight\",children:[/*#__PURE__*/_jsxs(IconButton,{children:[\" \",/*#__PURE__*/_jsx(DonutLargeIcon,{})]}),/*#__PURE__*/_jsxs(IconButton,{children:[\" \",/*#__PURE__*/_jsx(ChatIcon,{})]}),/*#__PURE__*/_jsxs(IconButton,{children:[\" \",/*#__PURE__*/_jsx(MoreVertIcon,{})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar__search\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__searchContainer\",children:[/*#__PURE__*/_jsx(SearchIcon,{}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Search or start new chat\",type:\"text\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar__chats\",children:[/*#__PURE__*/_jsx(SidebarChat,{addNewChat:true}),rooms.map(function(room){return/*#__PURE__*/_jsx(SidebarChat,{id:room.id,name:room.data.name},room.id);})]})]});}export default Sidebar;","map":{"version":3,"sources":["C:/Users/Shubham/whatsapp-clone/src/Sidebar.js"],"names":["React","useState","useEffect","Avatar","IconButton","DonutLargeIcon","ChatIcon","MoreVertIcon","SearchIcon","SidebarChat","db","useStateValue","Sidebar","rooms","setRooms","user","dispatch","unsuscribe","collection","onSnapshot","snapshot","docs","map","doc","id","data","photoURL","room","name"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAASC,MAAT,CAAiBC,UAAjB,KAAmC,mBAAnC,CACA,MAAOC,CAAAA,cAAP,KAA2B,+BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,6BAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,2BAAvB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,kBAAxB,CACA,MAAOC,CAAAA,EAAP,KAAe,YAAf,CACA,OAASC,aAAT,KAA8B,iBAA9B,C,wFAGA,QAASC,CAAAA,OAAT,EAAkB,CAClB,cAAyBX,QAAQ,CAAC,EAAD,CAAjC,wCAAMY,KAAN,eAAaC,QAAb,eACA,mBAA0BH,aAAa,EAAvC,kDAAOI,IAAP,oBAAOA,IAAP,CAAcC,QAAd,oBAEAd,SAAS,CAAC,UAAM,CACb,GAAMe,CAAAA,UAAU,CAAGP,EAAE,CAACQ,UAAH,CAAc,OAAd,EAAuBC,UAAvB,CAAkC,SAACC,QAAD,QAAiB;AAErEN,QAAQ,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAACC,GAAD,QAAU,CACjCC,EAAE,CAAED,GAAG,CAACC,EADyB,CAEjCC,IAAI,CAAEF,GAAG,CAACE,IAAJ,EAAc;AAFa,CAAV,EAAlB,CAAD,CAF4C,GAAlC,CAAnB,CASC,MAAO,WAAM,CACTR,UAAU,GACb,CAFD,CAIH,CAdQ,CAcL,EAdK,CAAT,CAiBA,mBAEI,aAAK,SAAS,CAAC,SAAf,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACD,KAAE,MAAF,EAAS,GAAG,CAAEF,IAAF,SAAEA,IAAF,iBAAEA,IAAI,CAAEW,QAApB,EADC,cAED,aAAK,SAAS,CAAC,sBAAf,wBACA,MAAC,UAAD,6BAAa,KAAC,cAAD,IAAb,GADA,cAEA,MAAC,UAAD,6BAAa,KAAC,QAAD,IAAb,GAFA,cAGA,MAAC,UAAD,6BAAa,KAAC,YAAD,IAAb,GAHA,GAFC,GADJ,cAWG,YAAK,SAAS,CAAC,iBAAf,uBACC,aAAK,SAAS,CAAC,0BAAf,wBACA,KAAC,UAAD,IADA,cAEA,cAAO,WAAW,CAAC,0BAAnB,CAA8C,IAAI,CAAC,MAAnD,EAFA,GADD,EAXH,cAkBI,aAAK,SAAS,CAAC,gBAAf,wBACA,KAAC,WAAD,EAAa,UAAU,KAAvB,EADA,CAECb,KAAK,CAACS,GAAN,CAAU,SAAAK,IAAI,qBACX,KAAC,WAAD,EAA2B,EAAE,CAAEA,IAAI,CAACH,EAApC,CAAwC,IAAI,CAAEG,IAAI,CAACF,IAAL,CAAUG,IAAxD,EAAkBD,IAAI,CAACH,EAAvB,CADW,EAAd,CAFD,GAlBJ,GAFJ,CA4BC,CAED,cAAeZ,CAAAA,OAAf","sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport { Avatar, IconButton } from \"@material-ui/core\";\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport './Sidebar.css';\r\nimport SidebarChat from './SidebarChat.js';\r\nimport db from './firebase'\r\nimport { useStateValue } from \"./StateProvider\";\r\n\r\n\r\nfunction Sidebar(){\r\nconst[rooms, setRooms] = useState([]);\r\nconst[{user}, dispatch] = useStateValue();\r\n\r\nuseEffect(() => {      \r\n   const unsuscribe = db.collection(\"rooms\").onSnapshot((snapshot) =>    //Again have to revise Snapshot \r\n    \r\n    setRooms(snapshot.docs.map((doc) => ({ \r\n        id: doc.id,\r\n        data: doc.data(),   //all the object datas inside document\r\n    }))\r\n    )\r\n    );\r\n\r\n    return () => {\r\n        unsuscribe();\r\n    }\r\n\r\n},  []);\r\n\r\n\r\nreturn (\r\n         \r\n    <div className=\"sidebar\">\r\n        <div className=\"sidebar__header\">\r\n       < Avatar src={user?.photoURL} />\r\n       <div className=\"sidebar__headerRight\">\r\n       <IconButton> <DonutLargeIcon /></IconButton>\r\n       <IconButton> <ChatIcon /></IconButton>\r\n       <IconButton> <MoreVertIcon /></IconButton>\r\n       </div>\r\n\r\n        </div>\r\n        \r\n       <div className=\"sidebar__search\">\r\n        <div className=\"sidebar__searchContainer\">\r\n        <SearchIcon />\r\n        <input placeholder=\"Search or start new chat\" type=\"text\" />\r\n        </div>\r\n       </div>\r\n        \r\n        <div className=\"sidebar__chats\">\r\n        <SidebarChat addNewChat/>\r\n        {rooms.map(room => (\r\n            <SidebarChat key={room.id} id={room.id} name={room.data.name}/>\r\n        ))}\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Sidebar;\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}